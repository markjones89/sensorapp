(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{15:function(t,e,n){var r=n(83);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(8)(r,a);r.locals&&(t.exports=r.locals)},205:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),i=n(4),s=n(5),o=n(2),c=n(39);function l(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(r,a)}var u={title:"Cost Analysis",components:{Checkbox:o.a,DateRangeToggle:o.c,TimeSlider:o.h},data:function(){return{user:null,loaded:!1,showPageOpts:!1,showEmbed:!1,timeFilter:{start:null,end:null}}},computed:{settings:function(){return this.user.company?this.user.company.settings:null},baseUrl:function(){return Object(s.c)()}},methods:{rangeSelect:function(t,e,n){console.log("rangeSelect",t,e,n)},toggleEmbed:function(t){t&&(this.showPageOpts=!1),this.showEmbed=t},renderTree:function(){var t,e=this;return(t=a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("".concat(e.baseUrl,"/data/flare-2.json")).then((function(t){return t.json()})).then((function(t){e.loaded=!0,Object(c.a)("#cost-tree",t)}));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){l(i,r,a,s,o,"next",t)}function o(t){l(i,r,a,s,o,"throw",t)}s(void 0)}))})()},timeStartChange:function(t){this.timeFilter.start=t},timeEndChange:function(t){this.timeFilter.end=t}},created:function(){this.user=i.a.getUser()},mounted:function(){this.renderTree()}},d=(n(82),n(3)),f=Object(d.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"graph-header"},[n("div",{staticClass:"graph-range-btns"}),t._v(" "),n("div",{staticClass:"graph-filters"}),t._v(" "),n("span",{staticClass:"page-opt-trigger",attrs:{role:"button"},on:{click:function(e){t.showPageOpts=!t.showPageOpts}}},[n("span",{staticClass:"dot"}),t._v(" "),n("span",{staticClass:"dot"}),t._v(" "),n("span",{staticClass:"dot"})]),t._v(" "),n("transition",{attrs:{name:"fadeUp"}},[t.showPageOpts?n("div",{staticClass:"page-opt-panel"},[n("ul",[n("li",[n("a",{on:{click:function(e){return t.toggleEmbed(!0)}}},[t._v("Embed")])])])]):t._e()])],1),t._v(" "),n("div",{staticClass:"graph-content"},[t._m(0),t._v(" "),n("date-range-toggle",{on:{select:t.rangeSelect}}),t._v(" "),n("div",{attrs:{id:"cost-tree"}}),t._v(" "),n("time-slider",{attrs:{from:t.settings?t.settings.start_time:null,to:t.settings?t.settings.end_time:null},on:{startChanged:t.timeStartChange,endChanged:t.timeEndChange}}),t._v(" "),n("div",{staticClass:"clearfix"})],1),t._v(" "),n("div",{staticClass:"graph-footer"},[n("div",{staticClass:"left-options"}),t._v(" "),n("div",{staticClass:"right-options"},[n("checkbox",{attrs:{label:"Save to report"}})],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chart-header"},[e("span",{staticClass:"chart-title"},[this._v("Cost Analysis")])])}],!1,null,"3bac5588",null);e.default=f.exports},39:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0);function a(t,e){var n=r.y(t),a=r.l(e),i=10,s=10,o=40,c=r.B().nodeSize([16,150]),l=r.o().x((function(t){return t.y})).y((function(t){return t.x})),u=n.append("svg").attr("viewBox",[-o,-i,900,16]).style("font-size","12px").style("user-select","none"),d=u.append("g").attr("fill","none").attr("stroke","#3DCFA3").attr("stroke-opacity",.4).attr("stroke-width",1.5),f=u.append("g").attr("cursor","pointer").attr("pointer-events","all");return a.x0=75,a.y0=0,a.descendants().forEach((function(t,e){t.id=e,t._children=t.children,t.depth&&7!==t.data.name.length&&(t.children=null)})),function t(e){var n=r.i&&r.i.altKey?2500:250,h=a.descendants().reverse(),p=a.links();c(a);var g=a,v=a;a.eachBefore((function(t){t.x<g.x&&(g=t),t.x>v.x&&(v=t)}));var m=v.x-g.x+i+s,x=u.transition().duration(n).attr("viewBox",[-o,g.x-i,900,m]).tween("resize",window.ResizeObserver?null:function(){return function(){return u.dispatch("toggle")}}),y=f.selectAll("g").data(h,(function(t){return t.id})),w=y.enter().append("g").attr("data-id",(function(t){return t.id})).attr("transform",(function(t){return"translate(".concat(e.y0,",").concat(e.x0,")")})).attr("fill-opacity",0).attr("stroke-opacity",0).on("click",(function(e){e.children=e.children?null:e._children,t(e)}));w.append("circle").attr("r",2.5).attr("fill",(function(t){return t._children,"#3DCFA3"})).attr("stroke-width",10),w.append("text").attr("dy","0.31em").attr("x",(function(t){return t._children?-6:6})).attr("text-anchor",(function(t){return t._children?"end":"start"})).attr("fill","#fff").text((function(t){return t.data.name})).clone(!0).lower().attr("stroke-linejoin","round").attr("stroke-width",3).attr("stroke","#2B2B2B"),y.merge(w).transition(x).attr("transform",(function(t){return"translate(".concat(t.y,",").concat(t.x,")")})).attr("fill-opacity",1).attr("stroke-opacity",1),y.exit().transition(x).remove().attr("transform",(function(t){return"translate(".concat(e.y,",").concat(e.x,")")})).attr("fill-opacity",0).attr("stroke-opacity",0);var _=d.selectAll("path").data(p,(function(t){return t.target.id})),C=_.enter().append("path").attr("d",(function(t){var n={x:e.x0,y:e.y0};return l({source:n,target:n})}));_.merge(C).transition(x).attr("d",(function(t){var e=t.target._children&&t.target._children.length>0,n=f.select('[data-id="'.concat(t.target.id,'"]')).node().getBBox(),r={x:t.target.x,y:t.target.y-n.width};return l(e?{source:t.source,target:r}:{source:t.source,target:t.target})})),_.exit().transition(x).remove().attr("d",(function(t){var n={x:e.x,y:e.y};return l({source:n,target:n})})),a.eachBefore((function(t){t.x0=t.x,t.y0=t.y}))}(a),u.node()}},82:function(t,e,n){"use strict";var r=n(15);n.n(r).a},83:function(t,e,n){(t.exports=n(7)(!1)).push([t.i,"#cost-tree[data-v-3bac5588] {\n  margin: 24px auto;\n  max-width: 100%;\n  width: 1024px;\n}",""])}}]);