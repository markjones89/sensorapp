(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{178:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),a=r(4),s=r(3),i={name:"switches",props:{typeBold:{default:!1},value:{default:!1},disabled:{default:!1},label:{default:""},textEnabled:{default:""},textDisabled:{default:""},color:{default:"default"},theme:{default:"default"},emitOnMount:{default:!0}},mounted(){this.emitOnMount&&this.$emit("input",this.value)},methods:{trigger(e){this.$emit("input",e.target.checked)}},computed:{classObject(){const{color:e,value:t,theme:r,typeBold:n,disabled:o}=this;return{"vue-switcher":!0,"vue-switcher--unchecked":!t,"vue-switcher--disabled":o,"vue-switcher--bold":n,"vue-switcher--bold--unchecked":n&&!t,["vue-switcher-theme--"+r]:e,["vue-switcher-color--"+e]:e}},shouldShowLabel(){return""!==this.label||""!==this.textEnabled||""!==this.textDisabled}}},c=(r(85),r(2)),l=Object(c.a)(i,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{class:e.classObject},[e.shouldShowLabel?r("span",{staticClass:"vue-switcher__label"},[e.label?r("span",{domProps:{textContent:e._s(e.label)}}):e._e(),e._v(" "),!e.label&&e.value?r("span",{domProps:{textContent:e._s(e.textEnabled)}}):e._e(),e._v(" "),e.label||e.value?e._e():r("span",{domProps:{textContent:e._s(e.textDisabled)}})]):e._e(),e._v(" "),r("input",{attrs:{type:"checkbox",disabled:e.disabled},domProps:{checked:e.value},on:{change:e.trigger}}),e._v(" "),r("div")])}),[],!1,null,null,null).exports,u=r(0);var d=function(e,t,r){var n=this,o=u.s(e),a=t,s=a.sensors||[],i=a.areas||[],c={edit:!1},l={x:0,y:0,scale:0},d={sensorPlotting:!1,showSensors:!1,areaMapping:!1,showAreas:!1,drawing:!1,polyMoved:!1},h=[],v=r,f=u.q().domain([0,50]).range([0,800]),p=u.q().domain([0,33.79]).range([0,487]),g=this;o.selectAll("svg").remove();var m=o.append("svg").attr("width",800).attr("height",487).style("display","block").style("background","#ffffff").selectAll(".map-layer").data([0]).enter().append("g").attr("class","map-layer"),w=m.append("g").attr("class","image-layer"),b=m.append("g").attr("class","sensor-layer"),y=m.append("g").attr("class","area-layer"),k=u.v().scaleExtent([1,8]).on("zoom",(function(){m.__transform=u.f.transform;var e=(1-m.__transform.k)*(f.range()[1]-f.range()[0]),t=(1-m.__transform.k)*(p.range()[1]-p.range()[0]);m.__transform.x=Math.min(f.range()[0],Math.max(m.__transform.x,e)),m.__transform.y=Math.min(p.range()[0],Math.max(m.__transform.y,t)),w.attr("transform",m.__transform),b.attr("transform",m.__transform),y.attr("transform",m.__transform)}));function _(e){!function(e,t){var r=new Image;r.src=e,r.onload=function(){return t&&t({height:r.height,width:r.width})}}(a.floor_plan_url,(function(t){var r=487-t.height<800-t.width?487/t.height:800/t.width,n=(800-t.width*r)/2,o=(487-t.height*r)/2;l.x=n<0?0:n,l.y=o<0?0:o,l.scale=r,e&&e()}))}function x(){var e=m.__transform,t=u.f,r=e?(t.offsetX-e.x)/e.k:t.offsetX,n=e?(t.offsetY-e.y)/e.k:t.offsetY;if((e&&1===e.z||!e)&&(r-=l.x,n-=l.y),d.sensorPlotting)return v.sensorAdd&&v.sensorAdd.call(g,{x:r,y:n,scale:l.scale});if(d.areaMapping){var o={x:e?(t.offsetX-e.x)/e.k:t.offsetX,y:e?(t.offsetY-e.y)/e.k:t.offsetY},a=y.select("g.area-draw");a.empty()?function(e){d.drawing=!0,A(y.append("g").attr("class","area-draw"),e)}(o):A(a,o)}}function A(e,t){h.push(t),e.select("polyline").remove(),e.insert("polyline",":first-child").data(h).attr("points",(function(){return h.map((function(e){return[e.x,e.y].join(",")})).join(" ")})).style("fill","none").attr("stroke","#53DBF3"),e.append("circle").attr("cx",t.x).attr("cy",t.y).attr("r",4).attr("fill","#FFEB3B").attr("stroke","#53DBF3").style("cursor","pointer").on("click",(function(){return function(){y.select("g.area-draw").remove();var e=(t=h,l.scale,t.map((function(e){return[e.x-l.x,e.y-l.y].join(",")})).join(" "));var t;return S(h),h.splice(0),d.drawing=!1,v.addArea&&v.addArea.call(g,e,l.scale)}()}))}function E(e,t){return e.map((function(e){var r=parseFloat(l.scale.toFixed(12));return[e.x/t*r+l.x,e.y/t*r+l.y].join(",")})).join(" ")}function M(e){return e.map((function(e){return[e.x,e.y].join(",")})).join(" ")}function S(e,t){var r=y.append("g").attr("class",t?"area":"area unsaved"),n=c.edit&&!d.sensorPlotting,o=r.append("polygon").attr("points",t?E(e,t.scale):M(e)).style("fill","#53DBF3").style("opacity",.6).style("cursor",(function(){return n?"move":"default"})).on("click",(function(e){return n&&(function(e){v.areaClick&&v.areaClick.call(g,e)}(t),u.f.stopPropagation())})).call(u.e().on("drag",F).on("end",C));t&&(r.data([t]),o.append("svg:title").text(t.name)),n&&r.selectAll("circles").data(e).enter().append("circle").attr("cx",(function(e){return t?e.x/t.scale*parseFloat(l.scale.toFixed(12))+l.x:e.x})).attr("cy",(function(e){return t?e.y/t.scale*parseFloat(l.scale.toFixed(12))+l.y:e.y})).attr("r",4).attr("fill","#FFEB3B").attr("stroke","#53DBF3").style("cursor","move").call(u.e().on("drag",P).on("end",j))}function F(){if(c.edit&&!d.sensorPlotting){var e,t=u.f,r=t.dx,n=t.dy,o=u.s(this),a=u.s(this.parentNode).selectAll("circle"),s=[],i=u.s(this.parentNode).data()[0];d.polyMoved=r>0||n>0,a.each((function(t){e=u.s(this),t.x+=r,t.y+=n,e.attr("cx",(function(e){return i?t.x/i.scale*parseFloat(l.scale.toFixed(12))+l.x:t.x})).attr("cy",(function(e){return i?t.y/i.scale*parseFloat(l.scale.toFixed(12))+l.y:t.y})),s.push({x:t.x,y:t.y})})),o.attr("points",E(s,i.scale))}}function C(){if(c.edit&&!d.sensorPlotting){var e=u.s(this.parentNode).data()[0],t=u.s(this.parentNode).selectAll("circle"),r=[];if(!d.polyMoved)return;d.polyMoved=!1,t.each((function(e){return r.push({x:e.x,y:e.y})}));var n=M(r);return v.areaPtUpdate&&v.areaPtUpdate.call(g,0===e?null:e,n,l.scale)}}function P(e){e.dragged=!0;var t=u.f,r=u.s(this),n=[],o=u.s(this.parentNode).select("polygon"),a=u.s(this.parentNode).selectAll("circle"),s=u.s(this.parentNode).data()[0];r.attr("cx",t.x+l.x).attr("cy",t.y+l.y),e.x+=t.dx,e.y+=t.dy,a.each((function(e){return n.push({x:e.x,y:e.y})})),o.attr("points",E(n,s.scale))}function j(e){if(e.dragged){e.dragged=!1;var t=[],r=u.s(this.parentNode).selectAll("circle"),n=u.s(this.parentNode).data()[0];r.each((function(e){return t.push({x:e.x,y:e.y})}));var o=M(t);return v.areaPtUpdate&&v.areaPtUpdate.call(g,0===n?null:n,o,l.scale)}}function D(e){c.edit&&!d.areaMapping&&(e.dragged=!0,u.s(this).attr("cx",e.pos_x=u.f.x).attr("cy",e.pos_y=u.f.y))}function B(e){if(c.edit&&!d.areaMapping&&e.dragged)return e.dragged=!1,e.pos_x-=l.x,e.pos_y-=l.y,e.scale=l.scale,v.sensorMoved&&v.sensorMoved.call(g,e)}return m.call(k).on("mousemove",(function(){if(d.drawing){var e=y.select("g.area-draw");e.select("line").remove();var t=h[h.length-1];e.insert("line",":nth-child(2)").attr("x1",t.x).attr("y1",t.y).attr("x2",u.o(this)[0]+3).attr("y2",u.o(this)[1]).attr("stroke","#53DBF3").attr("stroke-width",1).style("pointer-events","none")}})),this.drawFloorPlan=function(){if(w.selectAll("image").remove(),m.__transform&&w.attr("transform",m.__transform),a.floor_plan){var e=c.edit&&(d.sensorPlotting||d.areaMapping);w.insert("image",":first-child").attr("xlink:href",a.floor_plan_url).attr("height",p(33.79)-p(0)).attr("width",f(50)-f(0)).style("cursor",(function(){return e?"crosshair":"default"})).on("click",(function(){return e&&(x(),u.f.stopPropagation())}))}},this.drawSensors=function(){if(b.selectAll(".sensor").remove(),m.__transform&&b.attr("transform",m.__transform),0!==s.length){var e=c.edit&&!d.areaMapping;b.selectAll(".sensor").data(s).enter().append("circle").attr("class","sensor").attr("r","5").attr("stroke","rgba(61, 207, 163, 0.3)").attr("stroke-width",5).style("fill","#3DCFA3").style("cursor",(function(){return e?"move":"default"})).attr("cx",(function(e){var t=parseFloat(l.scale.toFixed(12));return e.pos_x/e.scale*t+l.x})).attr("cy",(function(e){var t=parseFloat(l.scale.toFixed(12));return e.pos_y/e.scale*t+l.y})).on("click",(function(t){return e&&(function(e){v.sensorClick&&v.sensorClick.call(g,e)}(t),u.f.stopPropagation())})).call(u.e().on("drag",D).on("end",B))}},this.drawAreas=function(){y.selectAll("g.area").remove(),m.__transform&&y.attr("transform",m.__transform),0!==i.length&&i.forEach((function(e){return S(e.poly_points,e)}))},this.setData=function(e){s=(a=e).sensors,i=a.areas,m.__transform=null,this.redraw(!0)},this.redraw=function(e){var t=this;e&&(m.__transform=null,m.call(k.transform,u.w)),this.drawFloorPlan(),_((function(){t.drawSensors(),t.drawAreas()}))},this.editMode=function(e){c.edit=e,this.redraw(!1)},this.setAreaMapping=function(e){e&&(d.sensorPlotting=!1),d.areaMapping=e,this.redraw(!1)},this.clearDrawing=function(){h.splice(0),y.select("g.area.unsaved").remove()},this.setSensorMapping=function(e){e&&(d.areaMapping=!1),d.sensorPlotting=e,this.redraw(!1)},a&&(this.drawFloorPlan(),_((function(){n.drawSensors(),n.drawAreas()}))),this};function h(e,t,r,n,o,a,s){try{var i=e[a](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){h(a,n,o,s,i,"next",e)}function i(e){h(a,n,o,s,i,"throw",e)}s(void 0)}))}}var f="/api/locations",p="/api/floors",g="/api/sensors",m="/api/areas",w={title:"Floor Mapper",props:["bldg_id","bldg_name","floor_id"],components:{Loader:s.c,Modal:s.e,Switches:l},data:function(){return{mapper:null,loaded:!1,bldg:null,floors:[],floorSel:null,editMapper:!1,editArea:!1,editSensor:!1,showEntry:!1,showAreaEntry:!1,editMode:!1,entry:{id:null,sensor:"",name:"",pos_x:0,pos_y:0,scale:0},areaEntry:{id:null,name:"",points:"",scale:0},state:{saving:!1,removing:!1}}},computed:{baseUrl:function(){return Object(a.b)()},floor:function(){var e=this;return this.floorSel?this.floors.find((function(t){return t.hid===e.floorSel})):null},building:function(){return this.bldg_name?this.bldg_name:this.bldg?this.bldg.name:""}},methods:{getBldg:function(e){var t=this;return v(o.a.mark((function r(){var n,a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,axios.get(f,{params:{id:e}});case 2:n=r.sent,a=n.data,t.bldg=a;case 5:case"end":return r.stop()}}),r)})))()},getFloors:function(e,t){var r=this;return v(o.a.mark((function n(){var a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.get(p,{params:{bid:e}});case 2:a=n.sent,(s=a.data).forEach((function(e){e.floor_plan_url="".concat(r.baseUrl,"/plans/").concat(e.floor_plan)})),r.floors=s.sort((function(e,t){return e.floor_no>t.floor_no?1:e.floor_no<t.floor_no?-1:0})),r.floor_id?r.floorSel=r.floor_id:r.floors.length>0&&(r.floorSel=r.floors[0].hid),setTimeout((function(){t&&t()}),0);case 8:case"end":return n.stop()}}),n)})))()},floorChange:function(){var e=this;this.getFloorData(this.floorSel,(function(){e.mapper.setData(e.floor)}))},getFloorData:function(e,t){var r=this;return v(o.a.mark((function n(){var a,s,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.get("".concat(p,"/").concat(e,"/data"));case 2:a=n.sent,s=a.data,(i=r.floors.find((function(t){return t.hid===e}))).sensors=s.sensors,i.areas=s.areas,setTimeout((function(){t&&t()}),0);case 8:case"end":return n.stop()}}),n)})))()},toggleEditMode:function(e){this.editMapper=e,this.mapper.editMode(e)},toggleAreaMap:function(){this.editArea&&(this.editSensor=!this.editArea),this.mapper.setAreaMapping(this.editArea)},toggleSensorMap:function(){this.editSensor&&(this.editArea=!this.editSensor),this.mapper.setSensorMapping(this.editSensor)},setupMapper:function(){var e=this;e.mapper=new d("#floor-map",e.floor,{sensorAdd:function(t){e.triggerAdd(t.x,t.y,t.scale)},sensorClick:function(t){e.triggerEdit(t.hid)},sensorMoved:function(e){axios.put("".concat(g,"/coord/").concat(e.hid),{pos_x:e.pos_x,pos_y:e.pos_y,scale:e.scale})},addArea:function(t,r){e.triggerAddArea(t,r)},areaClick:function(t){e.triggerEditArea(t.hid)},areaPtUpdate:function(e,t,r){e&&axios.put("".concat(m,"/coord/").concat(e.hid),{points:t,scale:r})}})},toggleSaving:function(e){this.state.saving=e},toggleEntry:function(e){var t=this;this.showEntry=e,e&&setTimeout((function(){t.$refs.sensor.focus()}),0)},triggerAdd:function(e,t,r){this.entry.id=null,this.entry.sensor="",this.entry.pos_x=e,this.entry.pos_y=t,this.entry.scale=r,this.editMode=!1,this.toggleEntry(!0)},addSensor:function(){var e=this;return v(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.toggleSaving(!0),axios.post(g,{floor:e.floor.hid,sensor_id:e.entry.sensor,name:e.entry.name,pos_x:e.entry.pos_x,pos_y:e.entry.pos_y,scale:e.entry.scale}).then((function(t){e.toggleSaving(!1);var r=t.data;r.r&&(e.floor.sensors.push(r.data),e.mapper.drawSensors(),e.toggleEntry(!1))}));case 2:case"end":return t.stop()}}),t)})))()},triggerEdit:function(e){var t=this.floor.sensors.find((function(t){return t.hid===e}));this.entry.id=e,this.entry.sensor=t.sensor_id,this.entry.name=t.name,this.entry.pos_x=t.pos_x,this.entry.pos_y=t.pos_y,this.entry.scale=t.scale,this.editMode=!0,this.toggleEntry(!0)},upSensor:function(){var e=this;return v(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.toggleSaving(!0),axios.put("".concat(g,"/").concat(e.entry.id),{sensor_id:e.entry.sensor,name:e.entry.name}).then((function(t){if(e.toggleSaving(!1),t.data.r){var r=e.floor.sensors.find((function(t){return t.hid===e.entry.id}));r.sensor_id=e.entry.sensor,r.name=e.entry.name,e.mapper.drawSensors(),e.toggleEntry(!1)}}));case 2:case"end":return t.stop()}}),t)})))()},delSensor:function(){var e=this;return v(o.a.mark((function t(){var r,n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.entry.id,n=e.floor.sensors.findIndex((function(e){return e.hid===r})),a=e.floor.sensors[n],confirm("Remove sensor ".concat(a.sensor_id,"?"))&&(e.state.removing=!0,axios.delete("".concat(g,"/").concat(r)).then((function(t){e.state.removing=!1,t.data.r&&(e.floor.sensors.splice(n,1),e.mapper.drawSensors(),e.toggleEntry(!1))})));case 2:case"end":return t.stop()}}),t)})))()},toggleAreaEntry:function(e){var t=this;this.showAreaEntry=e,e?setTimeout((function(){t.$refs.area.focus()}),0):null==this.areaEntry.id&&this.mapper.clearDrawing()},triggerAddArea:function(e,t){this.areaEntry.id=null,this.areaEntry.name="",this.areaEntry.points=e,this.areaEntry.scale=t,this.editMode=!1,this.toggleAreaEntry(!0)},addArea:function(){var e=this;return v(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.toggleSaving(!0),axios.post(m,{floor:e.floor.hid,name:e.areaEntry.name,points:e.areaEntry.points,scale:e.areaEntry.scale}).then((function(t){e.toggleSaving(!1);var r=t.data;r.r&&(e.floor.areas.push(r.data),e.mapper.drawAreas(),e.toggleAreaEntry(!1))}));case 2:case"end":return t.stop()}}),t)})))()},triggerEditArea:function(e){var t=this.floor.areas.find((function(t){return t.hid===e}));this.areaEntry.id=e,this.areaEntry.name=t.name,this.areaEntry.points=t.poly_points.map((function(e){return[e.x,e.y].join(",")})).join(" "),this.areaEntry.scale=t.scale,this.editMode=!0,this.toggleAreaEntry(!0)},upArea:function(){var e=this;return v(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.toggleSaving(!0),axios.put("".concat(m,"/").concat(e.areaEntry.id),{name:e.areaEntry.name}).then((function(t){(e.toggleSaving(!1),t.data.r)&&(e.floor.areas.find((function(t){return t.hid===e.areaEntry.id})).name=e.areaEntry.name,e.mapper.drawAreas(),e.toggleAreaEntry(!1))}));case 2:case"end":return t.stop()}}),t)})))()},delArea:function(){var e=this;return v(o.a.mark((function t(){var r,n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.areaEntry.id,n=e.floor.areas.findIndex((function(e){return e.hid===r})),a=e.floor.areas[n],confirm("Remove area: ".concat(a.name,"?"))&&(e.state.removing=!0,axios.delete("".concat(m,"/").concat(r)).then((function(t){e.state.removing=!1,t.data.r&&(e.floor.areas.splice(n,1),e.mapper.drawAreas(),e.toggleAreaEntry(!1))})));case 2:case"end":return t.stop()}}),t)})))()}},created:function(){this.bldg_name||this.getBldg(this.bldg_id)},mounted:function(){var e=this;e.getFloors(e.bldg_id,(function(){e.loaded=!0,e.getFloorData(e.floor.hid,(function(){e.setupMapper()}))}))}},b=(r(87),r(89),Object(c.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("h1",[e._v(e._s(e.building?e.building+" Mapping":"Mapping"))]),e._v(" "),r("transition",{attrs:{name:"fade"}},[e.loaded?r("div",{attrs:{id:"sensor-mapper"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-3"},[r("div",{attrs:{id:"mapper-options"}},[r("div",{staticClass:"input-field"},[r("label",[e._v("Floor")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.floorSel,expression:"floorSel"}],on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.floorSel=t.target.multiple?r:r[0]},e.floorChange]}},e._l(e.floors,(function(t){return r("option",{key:t.hid,domProps:{value:t.hid}},[e._v(e._s(t.ordinal_no)+" Floor")])})),0)]),e._v(" "),e.editMapper?[r("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.toggleEditMode(!1)}}},[e._v("Close Edit")]),e._v(" "),r("div",{attrs:{id:"switches"}},[r("switches",{attrs:{"type-bold":"true",label:"Area Mapping",theme:"custom",color:"orange","emit-on-mount":"false"},on:{input:e.toggleAreaMap},model:{value:e.editArea,callback:function(t){e.editArea=t},expression:"editArea"}}),e._v(" "),r("switches",{attrs:{"type-bold":"true",label:"Sensor Mapping",theme:"custom",color:"orange","emit-on-mount":"false"},on:{input:e.toggleSensorMap},model:{value:e.editSensor,callback:function(t){e.editSensor=t},expression:"editSensor"}})],1)]:r("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.toggleEditMode(!0)}}},[e._v("Edit Mode")])],2)]),e._v(" "),r("div",{staticClass:"col"},[r("div",{attrs:{id:"floor-map"}})])])]):e._e()]),e._v(" "),r("modal",{attrs:{show:e.showEntry},on:{close:function(t){return e.toggleEntry(!1)}},scopedSlots:e._u([{key:"header",fn:function(){return[r("h2",[e._v(e._s(e.editMode?"Edit":"Add")+" Sensor")])]},proxy:!0},{key:"footer",fn:function(){return[e.editMode?e._e():r("button",{staticClass:"btn btn-primary",attrs:{disabled:e.state.saving},on:{click:e.addSensor}},[e._v(e._s(e.state.saving?"Adding...":"Add"))]),e._v(" "),e.editMode?[r("button",{staticClass:"btn btn-danger btn-link",attrs:{disabled:e.state.removing},on:{click:e.delSensor}},[e._v(e._s(e.state.removing?"Removing...":"Remove"))]),e._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{disabled:e.state.saving},on:{click:e.upSensor}},[e._v(e._s(e.state.saving?"Updating...":"Update"))])]:e._e()]},proxy:!0}])},[e._v(" "),r("div",{attrs:{id:"entry-wrapper"}},[r("div",{staticClass:"input-field"},[r("label",[e._v("Sensor")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.entry.sensor,expression:"entry.sensor"}],ref:"sensor",attrs:{type:"text"},domProps:{value:e.entry.sensor},on:{input:function(t){t.target.composing||e.$set(e.entry,"sensor",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"input-field"},[r("label",[e._v("Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.entry.name,expression:"entry.name"}],attrs:{type:"text",placeholder:"(Optional)"},domProps:{value:e.entry.name},on:{input:function(t){t.target.composing||e.$set(e.entry,"name",t.target.value)}}})])])]),e._v(" "),r("modal",{attrs:{show:e.showAreaEntry},on:{close:function(t){return e.toggleAreaEntry(!1)}},scopedSlots:e._u([{key:"header",fn:function(){return[r("h2",[e._v(e._s(e.editMode?"Edit":"Add")+" Area")])]},proxy:!0},{key:"footer",fn:function(){return[e.editMode?e._e():r("button",{staticClass:"btn btn-primary",attrs:{disabled:e.state.saving},on:{click:e.addArea}},[e._v(e._s(e.state.saving?"Adding...":"Add"))]),e._v(" "),e.editMode?[r("button",{staticClass:"btn btn-danger btn-link",attrs:{disabled:e.state.removing},on:{click:e.delArea}},[e._v(e._s(e.state.removing?"Removing...":"Remove"))]),e._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{disabled:e.state.saving},on:{click:e.upArea}},[e._v(e._s(e.state.saving?"Updating...":"Update"))])]:e._e()]},proxy:!0}])},[e._v(" "),r("div",{attrs:{id:"entry-wrapper"}},[r("div",{staticClass:"input-field"},[r("label",[e._v("Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.areaEntry.name,expression:"areaEntry.name"}],ref:"area",attrs:{type:"text"},domProps:{value:e.areaEntry.name},on:{input:function(t){t.target.composing||e.$set(e.areaEntry,"name",t.target.value)}}})])])]),e._v(" "),r("loader",{attrs:{show:!e.loaded,type:"ripple"}})],1)}),[],!1,null,"37152d4b",null));t.default=b.exports},20:function(e,t,r){var n=r(86);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(8)(n,o);n.locals&&(e.exports=n.locals)},21:function(e,t,r){var n=r(88);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(8)(n,o);n.locals&&(e.exports=n.locals)},22:function(e,t,r){var n=r(90);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(8)(n,o);n.locals&&(e.exports=n.locals)},85:function(e,t,r){"use strict";var n=r(20);r.n(n).a},86:function(e,t,r){(e.exports=r(7)(!1)).push([e.i,"/**\n * Default\n */\n/**\n * Bulma\n */\n/**\n * Bootstrap\n */\n.vue-switcher {\n  position: relative;\n  display: inline-block;\n}\n.vue-switcher__label {\n    display: block;\n    font-size: 10px;\n    margin-bottom: 5px;\n}\n.vue-switcher input {\n    opacity: 0;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1;\n    cursor: pointer;\n}\n.vue-switcher div {\n    height: 15px;\n    width: 36px;\n    position: relative;\n    border-radius: 30px;\n    display: -ms-flex;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    cursor: pointer;\n    transition: linear .2s, background-color linear .2s;\n}\n.vue-switcher div:after {\n      content: '';\n      height: 20px;\n      width: 20px;\n      border-radius: 100px;\n      display: block;\n      transition: linear .15s, background-color linear .15s;\n      position: absolute;\n      left: 100%;\n      margin-left: -18px;\n      cursor: pointer;\n      top: -3px;\n      box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.1);\n}\n.vue-switcher--unchecked div {\n    justify-content: flex-end;\n}\n.vue-switcher--unchecked div:after {\n      left: 15px;\n}\n.vue-switcher--disabled div {\n    opacity: .3;\n}\n.vue-switcher--disabled input {\n    cursor: not-allowed;\n}\n.vue-switcher--bold div {\n    top: -8px;\n    height: 26px;\n    width: 51px;\n}\n.vue-switcher--bold div:after {\n      margin-left: -24px;\n      top: 3px;\n}\n.vue-switcher--bold--unchecked div:after {\n    left: 28px;\n}\n.vue-switcher--bold .vue-switcher__label span {\n    padding-bottom: 7px;\n    display: inline-block;\n}\n.vue-switcher-theme--default.vue-switcher-color--default div {\n    background-color: #b7b7b7;\n}\n.vue-switcher-theme--default.vue-switcher-color--default div:after {\n      background-color: #9d9d9d;\n}\n.vue-switcher-theme--default.vue-switcher-color--default.vue-switcher--unchecked div {\n    background-color: #aaa;\n}\n.vue-switcher-theme--default.vue-switcher-color--default.vue-switcher--unchecked div:after {\n      background-color: #c4c4c4;\n}\n.vue-switcher-theme--default.vue-switcher-color--blue div {\n    background-color: #77b0c8;\n}\n.vue-switcher-theme--default.vue-switcher-color--blue div:after {\n      background-color: #539bb9;\n}\n.vue-switcher-theme--default.vue-switcher-color--blue.vue-switcher--unchecked div {\n    background-color: #c0dae5;\n}\n.vue-switcher-theme--default.vue-switcher-color--blue.vue-switcher--unchecked div:after {\n      background-color: #77b0c8;\n}\n.vue-switcher-theme--default.vue-switcher-color--red div {\n    background-color: #c87777;\n}\n.vue-switcher-theme--default.vue-switcher-color--red div:after {\n      background-color: #b95353;\n}\n.vue-switcher-theme--default.vue-switcher-color--red.vue-switcher--unchecked div {\n    background-color: #e5c0c0;\n}\n.vue-switcher-theme--default.vue-switcher-color--red.vue-switcher--unchecked div:after {\n      background-color: #c87777;\n}\n.vue-switcher-theme--default.vue-switcher-color--yellow div {\n    background-color: #c9c377;\n}\n.vue-switcher-theme--default.vue-switcher-color--yellow div:after {\n      background-color: #bab353;\n}\n.vue-switcher-theme--default.vue-switcher-color--yellow.vue-switcher--unchecked div {\n    background-color: #e6e3c0;\n}\n.vue-switcher-theme--default.vue-switcher-color--yellow.vue-switcher--unchecked div:after {\n      background-color: #c9c377;\n}\n.vue-switcher-theme--default.vue-switcher-color--orange div {\n    background-color: #c89577;\n}\n.vue-switcher-theme--default.vue-switcher-color--orange div:after {\n      background-color: #b97953;\n}\n.vue-switcher-theme--default.vue-switcher-color--orange.vue-switcher--unchecked div {\n    background-color: #e5cec0;\n}\n.vue-switcher-theme--default.vue-switcher-color--orange.vue-switcher--unchecked div:after {\n      background-color: #c89577;\n}\n.vue-switcher-theme--default.vue-switcher-color--green div {\n    background-color: #77c88d;\n}\n.vue-switcher-theme--default.vue-switcher-color--green div:after {\n      background-color: #53b96e;\n}\n.vue-switcher-theme--default.vue-switcher-color--green.vue-switcher--unchecked div {\n    background-color: #c0e5ca;\n}\n.vue-switcher-theme--default.vue-switcher-color--green.vue-switcher--unchecked div:after {\n      background-color: #77c88d;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--default div {\n    background-color: gainsboro;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--default div:after {\n      background-color: #f5f5f5;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--default.vue-switcher--unchecked div {\n    background-color: #e8e8e8;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--default.vue-switcher--unchecked div:after {\n      background-color: #f5f5f5;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--primary div {\n    background-color: #05ffda;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--primary div:after {\n      background-color: #00d1b2;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--primary.vue-switcher--unchecked div {\n    background-color: #6bffe9;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--primary.vue-switcher--unchecked div:after {\n      background-color: #05ffda;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--blue div {\n    background-color: #5e91e3;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--blue div:after {\n      background-color: #3273dc;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--blue.vue-switcher--unchecked div {\n    background-color: #b5ccf2;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--blue.vue-switcher--unchecked div:after {\n      background-color: #5e91e3;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--red div {\n    background-color: #ff6b89;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--red div:after {\n      background-color: #ff3860;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--red.vue-switcher--unchecked div {\n    background-color: #ffd1da;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--red.vue-switcher--unchecked div:after {\n      background-color: #ff6b89;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--yellow div {\n    background-color: #ffe78a;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--yellow div:after {\n      background-color: #ffdd57;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--yellow.vue-switcher--unchecked div {\n    background-color: #fffcf0;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--yellow.vue-switcher--unchecked div:after {\n      background-color: #ffe78a;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--green div {\n    background-color: #3dde75;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--green div:after {\n      background-color: #22c65b;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--green.vue-switcher--unchecked div {\n    background-color: #94edb3;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--green.vue-switcher--unchecked div:after {\n      background-color: #3dde75;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--default div {\n    background-color: #e6e6e6;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--default div:after {\n      background-color: #f0f0f0;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--default.vue-switcher--unchecked div {\n    background-color: whitesmoke;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--default.vue-switcher--unchecked div:after {\n      background-color: #f0f0f0;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--primary div {\n    background-color: #4f93ce;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--primary div:after {\n      background-color: #337ab7;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--primary.vue-switcher--unchecked div {\n    background-color: #9fc4e4;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--primary.vue-switcher--unchecked div:after {\n      background-color: #4f93ce;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--success div {\n    background-color: #80c780;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--success div:after {\n      background-color: #5cb85c;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--success.vue-switcher--unchecked div {\n    background-color: #c7e6c7;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--success.vue-switcher--unchecked div:after {\n      background-color: #80c780;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--info div {\n    background-color: #85d0e7;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--info div:after {\n      background-color: #5bc0de;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--info.vue-switcher--unchecked div {\n    background-color: #daf1f8;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--info.vue-switcher--unchecked div:after {\n      background-color: #85d0e7;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--warning div {\n    background-color: #f4c37d;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--warning div:after {\n      background-color: #f0ad4e;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--warning.vue-switcher--unchecked div {\n    background-color: #fceedb;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--warning.vue-switcher--unchecked div:after {\n      background-color: #f4c37d;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--danger div {\n    background-color: #d9534f;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--danger div:after {\n      background-color: #c9302c;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--danger.vue-switcher--unchecked div {\n    background-color: #eba5a3;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--danger.vue-switcher--unchecked div:after {\n      background-color: #d9534f;\n}\n",""])},87:function(e,t,r){"use strict";var n=r(21);r.n(n).a},88:function(e,t,r){(e.exports=r(7)(!1)).push([e.i,".vue-switcher-theme--custom.vue-switcher-color--orange div {\n  background-color: #ff7c3c;\n}\n.vue-switcher-theme--custom.vue-switcher-color--orange div:after {\n  background-color: #ef4f00;\n}\n.vue-switcher-theme--custom.vue-switcher-color--orange.vue-switcher--unchecked div {\n  background-color: #ffc1a2;\n}\n.vue-switcher-theme--custom.vue-switcher-color--orange.vue-switcher--unchecked div:after {\n  background-color: #ff7c3c;\n}\n#floor-map {\n  position: relative;\n  overflow: hidden;\n}\n#floor-map svg {\n  pointer-events: initial !important;\n}",""])},89:function(e,t,r){"use strict";var n=r(22);r.n(n).a},90:function(e,t,r){(e.exports=r(7)(!1)).push([e.i,"#sensor-mapper[data-v-37152d4b] {\n  display: flex;\n  margin-top: 24px;\n}\n#sensor-mapper #mapper-options[data-v-37152d4b] {\n  margin-bottom: 24px;\n}\n#sensor-mapper #mapper-options #switches[data-v-37152d4b] {\n  margin-top: 16px;\n}\n#sensor-mapper #mapper-options .vue-switcher[data-v-37152d4b] {\n  position: relative;\n  display: inline-block;\n  margin: 5px 5px 20px;\n}",""])}}]);