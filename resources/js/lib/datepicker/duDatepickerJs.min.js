/* -- DO NOT REMOVE --
 * duDatePicker v2.0 plugin (Vanilla JS)
 * https://github.com/dmuy/duDatepicker
 *
 * Author: Dionlee Uy
 * Email: dionleeuy@gmail.com
 *
 * -- DO NOT REMOVE --
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(e):"function"==typeof define&&define.amd?define("duDatepicker",[],t(e)):"object"==typeof exports?exports.duDatepicker=t(e):e.duDatepicker=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";if(!!document.querySelector&&!!e.addEventListener){var t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=t.map(function(e){return e.substr(0,3)}),n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=n.map(function(e){return e.substr(0,3)}),d="<span>"+r.map(function(e){return e.substr(0,2)}).join("</span><span>")+"</span>",i=[9,112,113,114,115,116,117,118,119,120,121,122,123],o={value:null,format:"mm/dd/yyyy",outFormat:null,theme:"blue",auto:!1,clearBtn:!1,cancelBtn:!1,overlayClose:!0,disabledDates:[],disabledDays:[],range:!1,rangeDelim:"-",fromTarget:null,toTarget:null,events:{dateChanged:null,onRangeFormat:null,ready:null,shown:null,hidden:null}},s={appendTo:function(e,t,a){Array.isArray(e)?e.forEach(function(e){0===a?t.insertBefore(e,t.childNodes[a]||null):t.appendChild(e)}):0===a?t.insertBefore(e,t.childNodes[a]||null):t.appendChild(e)},addEvent:function(e,t,a){function n(e,t,a){e.addEventListener(t,a,!1)}Array.isArray(e)?e.forEach(function(e){n(e,t,a)}):n(e,t,a)},removeEvent:function(e,t,a){function n(e,t,a){e.removeEventListener(t,a,!1)}Array.isArray(e)?e.forEach(function(e){n(e,t,a)}):n(e,t,a)},empty:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},createElem:function(e,t,a,n){var r=document.createElement(e);return void 0!==a&&(r[n?"innerHTML":"innerText"]=a),void 0!==t&&s.setAttributes(r,t),r},setAttributes:function(e,t){for(var a in t)e.setAttribute(a,t[a])}},l={getDaysCount:function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},dateDiff:function(e,t){return Math.round((t-e)/864e5)},extendObj:function(){var e={},t=!1,a=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],a++);for(var r=function(a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t&&"[object Object]"===Object.prototype.toString.call(a[n])?e[n]=extendObj(!0,e[n],a[n]):e[n]=a[n])};a<n;a++){r(arguments[a])}return e},formatDate:function(e,d){var i=new Date(e),o=i.getDate(),s=i.getMonth(),l=i.getFullYear();return d.replace(/(yyyy|yy|mmmm|mmm|mm|m|DD|D|dd|d)/g,function(e){switch(e){case"d":return o;case"dd":return o<10?"0"+o:o;case"D":return r[i.getDay()];case"DD":return n[i.getDay()];case"m":return s+1;case"mm":return s+1<10?"0"+(s+1):s+1;case"mmm":return a[s];case"mmmm":return t[s];case"yy":return l.toString().substr(2,2);case"yyyy":return l}})},parseDate:function(e,a){var n=void 0===a?this.config.format:a,r=(n.match(/d/g)||[]).length,d=(n.match(/m/g)||[]).length,i=(n.match(/y/g)||[]).length,o=4===d,s=1===d,l=1===r,c=e.length,u=n.indexOf("m"),m=n.indexOf("d"),p=n.indexOf("y"),g="",f="",v="";if(""===e)return{m:null,d:null,y:null,date:new Date("")};if(o){var h=-1;t.forEach(function(t,a){e.indexOf(t)>=0&&(h=a)}),g=t[h],m=(n=n.replace("mmmm",g)).indexOf("d"),p=p<u?n.indexOf("y"):n.indexOf("y",n.indexOf(g)+g.length)}else if(!l&&!s||l&&!s&&u<m)g=e.substr(u,d);else{var w=n.lastIndexOf("m"),y=n.substring(u-1,u),_=n.substring(w+1,w+2);g=w===n.length-1?e.substring(e.indexOf(y,u-1)+1,c):0===u?e.substring(0,e.indexOf(_,u)):e.substring(e.indexOf(y,u-1)+1,e.indexOf(_,u+1))}if(!l&&!s||!l&&s&&m<u)f=e.substr(m,r);else{var D=n.lastIndexOf("d");y=n.substring(m-1,m),_=n.substring(D+1,D+2);f=D===n.length-1?e.substring(e.indexOf(y,m-1)+1,c):0===m?e.substring(0,e.indexOf(_,m)):e.substring(e.indexOf(y,m-1)+1,e.indexOf(_,m+1))}return!s&&!l||s&&l&&p<u&&p<m||!s&&l&&p<m||s&&!l&&p<u?v=e.substr(p,i):(y=n.substring(p-1,p),v=e.substr(e.indexOf(y,p-1)+1,i)),{m:g,d:f,y:v,date:isNaN(parseInt(g))?new Date(g+" "+f+", "+v):new Date(v,g-1,f)}},triggerChange:function(e,t){e.dispatchEvent(new Event("change")),e.dispatchEvent(new Event("onchange")),e.dispatchEvent(new function(e){var t=document.createEvent("CustomEvent");return t.initCustomEvent("datechanged",!1,!1,e),t}(t))}},c=function(e,t){var a=this;this.config=l.extendObj(o,t),this.animating=!1,this.visible=!1,this.input=e,this.input.readonly=!0,this.fromEl=document.querySelector(this.config.fromTarget),this.toEl=document.querySelector(this.config.toTarget),this.input.hidden=this.config.range&&(this.fromEl||this.toEl),this.viewMode="calendar",this.datepicker={container:s.createElem("div",{class:"dcalendarpicker"}),wrapper:s.createElem("div",{class:"dudp__wrapper",tabindex:0}),header:{wrapper:s.createElem("section",{class:"dudp__calendar-header"}),selectedYear:s.createElem("span",{class:"dudp__sel-year"}),selectedDate:s.createElem("span",{class:"dcp_sel-date"})},calendarHolder:{wrapper:s.createElem("section",{class:"dudp__cal-container"}),btnPrev:s.createElem("span",{class:"dudp__btn-cal-prev",role:"button"},"&lsaquo;",!0),btnNext:s.createElem("span",{class:"dudp__btn-cal-next",role:"button"},"&rsaquo;",!0),calendarViews:{wrapper:s.createElem("div",{class:"dudp__calendar-views"}),calendars:[]},yearsView:s.createElem("div",{class:"dudp__years-view dp__hidden"}),monthsView:s.createElem("div",{class:"dudp__months-view dp__hidden"}),buttons:{wrapper:s.createElem("div",{class:"dudp__buttons"}),btnClear:s.createElem("span",{class:"dudp__button clear",role:"button"},"Clear"),btnCancel:s.createElem("span",{class:"dudp__button cancel",role:"button"},"Cancel"),btnOk:s.createElem("span",{class:"dudp__button ok",role:"button"},"Ok")}}},a.config.value&&(a.input.value=a.config.value,a.input.setAttribute("value",a.config.value)),a.minDate=a.input.dataset.mindate||a.config.minDate,a.maxDate=a.input.dataset.maxdate||a.config.maxDate;var n=new Date;if(a.config.range){var r=a.input.value,d=r.split(a.config.rangeDelim);if(""!==r&&d.length<2)throw new Error("duDatePicker: Invalid date range value");var c=""===r?null:l.parseDate.call(a,d[0]).date,u=""===r?null:l.parseDate.call(a,d[1]).date;if(a.dateFrom=c,a.dateTo=u,a.rangeFrom=null,a.rangeTo=null,a.viewMonth=(c||n).getMonth(),a.viewYear=(c||n).getFullYear(),r){var m=a.config.events&&a.config.events.onRangeFormat?a.formatRange(c,u):r,p=l.formatDate(c,a.config.format),g=l.formatDate(c,a.config.outFormat||a.config.format),f=l.formatDate(u,a.config.format),v=l.formatDate(u,a.config.outFormat||a.config.format);a.input.value=m,s.setAttributes(a.input,{value:m,"data-range-from":g,"data-range-to":v}),a.fromEl&&(a.fromEl.value=p,s.setAttributes(a.fromEl,{value:p,"data-value":g})),a.toEl&&(a.toEl.value=f,s.setAttributes(a.toEl,{value:p,"data-value":v}))}}else a.date=""===a.input.value?n:l.parseDate.call(a,a.input.value).date,a.selected={year:a.date.getFullYear(),month:a.date.getMonth(),date:a.date.getDate()},a.viewMonth=a.selected.month,a.viewYear=a.selected.year;function h(){a.show()}function w(e){return 13===e.keyCode&&a.show(),!(i.indexOf(e.which)<0)}this.unbindInput=function(){a.input.readonly=!1,a.input.removeEventListener("click",h),a.input.removeEventListener("keydown",w),a.fromEl&&(a.fromEl.readonly=!1,a.fromEl.removeEventListener("click",h),a.fromEl.removeEventListener("keydown",w)),a.toEl&&(a.toEl.readonly=!1,a.toEl.removeEventListener("click",h),a.toEl.removeEventListener("keydown",w))},s.addEvent(a.input,"click",h),s.addEvent(a.input,"keydown",w),a.fromEl&&(a.fromEl.readonly=!0,s.addEvent(a.fromEl,"click",h),s.addEvent(a.fromEl,"keydown",w)),a.toEl&&(a.toEl.readonly=!0,s.addEvent(a.toEl,"click",h),s.addEvent(a.toEl,"keydown",w)),a.init(),a.setSelection()};return c.prototype={constructor:c,init:function(){var e=this,t=e.datepicker,n=t.header,r=t.calendarHolder,d=r.buttons,i=e.selected?e.selected:new Date;s.appendTo([n.selectedYear,n.selectedDate],n.wrapper),s.appendTo(n.wrapper,t.wrapper);for(var o=0,c=1;c<4;c++){for(var u=s.createElem("div",{class:"dudp__month-row"}),m=0;m<4;m++){var p=s.createElem("span",{class:"dudp__month"});o===i.month&&p.classList.add("selected"),p.innerText=a[o],p.dataset.month=o,s.appendTo(p,u),s.addEvent(p,"click",function(t){var a=this.dataset.month;e.viewMonth=a,e.setupCalendar(),e.switchView("calendar")}),o++}s.appendTo(u,r.monthsView)}s.appendTo(e.getYears(),r.yearsView),e.config.clearBtn&&s.appendTo(d.btnClear,d.wrapper),e.config.cancelBtn&&s.appendTo(d.btnCancel,d.wrapper),e.config.auto||s.appendTo(d.btnOk,d.wrapper),s.appendTo([r.btnPrev,r.btnNext,r.calendarViews.wrapper,r.monthsView,r.yearsView,d.wrapper],r.wrapper),s.appendTo(r.wrapper,t.wrapper),s.appendTo(t.wrapper,t.container),s.appendTo(t.container,document.body),t.wrapper.dataset.theme=e.input.dataset.theme||e.config.theme,s.addEvent(t.wrapper,"keydown",function(t){27===t.keyCode?e.hide():37===t.keyCode?e.move("prev"):39===t.keyCode&&e.move("next")}),s.addEvent(n.selectedYear,"click",function(){"years"!==e.viewMode&&e.switchView("years")}),s.addEvent(n.selectedDate,"click",function(){var t=new Date,a=e.config.range?t.getMonth():e.selected.month,n=e.config.range?t.getFullYear():e.selected.year;e.viewMonth===a&&e.viewYear===n&&"calendar"===e.viewMode||(e.viewMonth=a,e.viewYear=n,e.setupCalendar(),e.switchView("calendar"))}),s.addEvent(r.btnPrev,"click",function(){e.move("prev")}),s.addEvent(r.btnNext,"click",function(){e.move("next")}),s.addEvent(r.calendarViews.wrapper,"click",function(t){t.target.classList.contains("dudp__cal-month-year")&&"months"!==e.viewMode&&e.switchView("months")}),e.config.clearBtn&&s.addEvent(d.btnClear,"click",function(){e.setValue(""),e.hide()}),e.config.overlayClose&&(s.addEvent(t.container,"click",function(){e.hide()}),s.addEvent(t.wrapper,"click",function(e){e.stopPropagation()})),e.config.cancelBtn&&s.addEvent(d.btnCancel,"click",function(){e.hide()}),s.addEvent(d.btnOk,"click",function(){if(e.config.range){if(!e.rangeFrom||!e.rangeTo)return;var t=new Date(e.rangeFrom.year,e.rangeFrom.month,e.rangeFrom.date),a=new Date(e.rangeTo.year,e.rangeTo.month,e.rangeTo.date);if(e.disabledDate(t)||e.disabledDate(a))return;e.dateFrom=t,e.dateTo=a,e.setValue([l.formatDate(t,e.config.format),l.formatDate(a,e.config.format)].join(e.config.rangeDelim))}else{var n=new Date(e.selected.year,e.selected.month,e.selected.date);if(e.disabledDate(n))return;e.date=n,e.setValue(e.date)}e.hide()}),e.config.events&&e.config.events.ready&&e.config.events.ready.call(e,e)},inRange:function(e){if(!this.config.range)return!1;var t=this,a=t.rangeFrom?new Date(t.rangeFrom.year,t.rangeFrom.month,t.rangeFrom.date):null,n=t.rangeTo?new Date(t.rangeTo.year,t.rangeTo.month,t.rangeTo.date):null;return a&&e>a&&n&&e<n},disabledDate:function(e){var t=this,a=null,d=null,i=new Date,o=new Date(i.getFullYear(),i.getMonth(),i.getDate()),s=t.config.disabledDates,c=t.config.disabledDays,u=s.filter(function(a){return a.indexOf("-")>=0?e>=l.parseDate.call(t,a.split("-")[0]).date&&e<=l.parseDate.call(t,a.split("-")[1]).date:l.parseDate.call(t,a).date.getTime()===e.getTime()}).length>0,m=c.indexOf(n[e.getDay()])>=0||c.indexOf(r[e.getDay()])>=0||c.indexOf(r.map(function(e){return e.substr(0,2)})[e.getDay()])>=0;return t.minDate&&(a="today"===t.minDate?o:new Date(t.minDate)),t.maxDate&&(d="today"===t.maxDate?o:new Date(t.maxDate)),a&&e<a||d&&e>d||u||m},getDates:function(e,t){for(var a=this,n=1,r=new Date,d=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=a.config.range?null:new Date(a.selected.year,a.selected.month,a.selected.date),o=a.rangeFrom?new Date(a.rangeFrom.year,a.rangeFrom.month,a.rangeFrom.date):null,c=a.rangeTo?new Date(a.rangeTo.year,a.rangeTo.month,a.rangeTo.date):null,u=new Date(e,t,n),m=l.getDaysCount(u),p=1,g=[],f=1;f<=6;f++){for(var v=[],h=0;h<7;h++)v.push(s.createElem("span",{class:"dudp__date"}));for(;n<=m;){u.setDate(n);var w=u.getDay();if(v[w].dataset.date=n,v[w].dataset.month=t,v[w].dataset.year=e,u.getTime()===d.getTime()&&v[w].classList.add("current"),a.disabledDate(u)&&v[w].classList.add("disabled"),a.inRange(u)&&v[w].classList.add("in-range"),1===f&&0===w)break;if(!(w<6)){a.config.range||u.getTime()!==i.getTime()||v[w].classList.add("selected"),a.config.range&&o&&u.getTime()===o.getTime()&&v[w].classList.add("range-from"),a.config.range&&c&&u.getTime()===c.getTime()&&v[w].classList.add("range-to"),v[w].innerText=n++;break}a.config.range||u.getTime()!==i.getTime()||v[w].classList.add("selected"),a.config.range&&o&&u.getTime()===o.getTime()&&v[w].classList.add("range-from"),a.config.range&&c&&u.getTime()===c.getTime()&&v[w].classList.add("range-to"),v[w].innerText=n++}if(1===f||f>4)if(1===f)for(var y=new Date(e,t-1,1),_=l.getDaysCount(y),D=6;D>=0;D--)""===v[D].innerText&&(v[D].dataset.date=_,v[D].dataset.month=t-1,v[D].dataset.year=e,y.setDate(_),v[D].innerText=_--,v[D].classList.add("dudp__pm"),a.disabledDate(y)&&v[D].classList.add("disabled"),a.inRange(y)&&v[D].classList.add("in-range"),y.getTime()===d.getTime()&&v[D].classList.add("current"),a.config.range||y.getTime()!==i.getTime()||v[D].classList.add("selected"),a.config.range&&o&&y.getTime()===o.getTime()&&v[D].classList.add("range-from"),a.config.range&&c&&y.getTime()===c.getTime()&&v[D].classList.add("range-to"));else if(f>4){var T=new Date(e,t+1,1);for(D=0;D<=6;D++)""===v[D].innerText&&(v[D].dataset.date=p,v[D].dataset.month=t+1,v[D].dataset.year=e,T.setDate(p),v[D].innerText=p++,v[D].classList.add("dudp__nm"),a.disabledDate(T)&&v[D].classList.add("disabled"),a.inRange(T)&&v[D].classList.add("in-range"),T.getTime()===d.getTime()&&v[D].classList.add("current"),a.config.range||T.getTime()!==i.getTime()||v[D].classList.add("selected"),a.config.range&&o&&T.getTime()===o.getTime()&&v[D].classList.add("range-from"),a.config.range&&c&&T.getTime()===c.getTime()&&v[D].classList.add("range-to"))}g.push(v)}var E=[];return g.forEach(function(e){for(var t=s.createElem("div",{class:"dudp__cal-week"}),n=0;n<e.length;n++){var r=e[n];s.addEvent(r,"click",function(){var e=this.dataset.year,t=this.dataset.month,n=this.dataset.date,r=new Date(e,t,n),d=!1;if(!a.disabledDate(r)){if(a.config.range){var i=a.rangeFrom?new Date(a.rangeFrom.year,a.rangeFrom.month,a.rangeFrom.date):null,o=a.rangeTo?new Date(a.rangeTo.year,a.rangeTo.month,a.rangeTo.date):null;!a.rangeFrom||a.rangeFrom&&r<i||a.rangeFrom&&a.rangeTo&&l.dateDiff(i,r)<=l.dateDiff(r,o)&&0!==l.dateDiff(i,r)||a.rangeFrom&&a.rangeTo&&o.getTime()===r.getTime()?(a.rangeFrom={year:e,month:t,date:n},d=!0):(!a.rangeTo||a.rangeTo&&r>o||a.rangeFrom&&a.rangeTo&&l.dateDiff(r,o)<l.dateDiff(i,r)&&0!==l.dateDiff(r,o)||a.rangeFrom&&a.rangeTo&&i.getTime()===r.getTime())&&(a.rangeTo={year:e,month:t,date:n},d=!1),a.datepicker.calendarHolder.calendarViews.wrapper.querySelectorAll(".dudp__date").forEach(function(r){var i=r.dataset.year,o=r.dataset.month,s=r.dataset.date,l=a.inRange(new Date(i,o,s));r.classList[e===i&&t===o&&n===s?"add":"remove"](d?"range-from":"range-to"),r.classList[l?"add":"remove"]("in-range")})}else a.datepicker.calendarHolder.calendarViews.wrapper.querySelectorAll(".dudp__date").forEach(function(a){var r=a.dataset.year,d=a.dataset.month,i=a.dataset.date;a.classList[e===r&&t===d&&n===i?"add":"remove"]("selected")}),this.classList.add("selected"),a.selected={year:e,month:t,date:n},a.setSelection(),a.config.auto&&(a.date=r,a.setValue(a.date),a.hide());a.datepicker.calendarHolder.wrapper.querySelectorAll(".dudp__month").forEach(function(e){var a=e.dataset.month;e.classList[a===t?"add":"remove"]("selected")})}}),s.appendTo(r,t)}E.push(t)}),E},getYears:function(){for(var e=this,t=e.viewYear-50,a=e.viewYear+25,n=[],r=t;r<=a;r++){var d=s.createElem("span",{class:"dudp__year"});r===e.viewYear&&d.classList.add("selected"),d.innerText=r,d.dataset.year=r,s.addEvent(d,"click",function(){var t=parseInt(this.dataset.year);e.viewYear=t,e.config.range||(e.selected.year=t),e.setSelection(),e.setupCalendar(),e.switchView("calendar")}),n.push(d)}return n},formatRange:function(e,t){return this.config.events.onRangeFormat.call(this,e,t,this)},setupCalendar:function(){var e=this,t=e.datepicker.calendarHolder.calendarViews,a=e.viewYear,n=e.viewMonth;t.calendars.length=0;var r={wrapper:s.createElem("div",{class:"dudp__calendar"}),header:s.createElem("div",{class:"dudp__cal-month-year"}),weekDays:s.createElem("div",{class:"dudp__weekdays"},d,!0),datesHolder:s.createElem("div",{class:"dudp__dates-holder"})},i={wrapper:s.createElem("div",{class:"dudp__calendar"}),header:s.createElem("div",{class:"dudp__cal-month-year"}),weekDays:s.createElem("div",{class:"dudp__weekdays"},d,!0),datesHolder:s.createElem("div",{class:"dudp__dates-holder"})},o={wrapper:s.createElem("div",{class:"dudp__calendar"}),header:s.createElem("div",{class:"dudp__cal-month-year"}),weekDays:s.createElem("div",{class:"dudp__weekdays"},d,!0),datesHolder:s.createElem("div",{class:"dudp__dates-holder"})};i.header.innerText=l.formatDate(new Date(a,n-1,1),"mmmm yyyy"),s.appendTo(e.getDates(a,n-1),i.datesHolder),s.appendTo([i.header,i.weekDays,i.datesHolder],i.wrapper),t.calendars.push(i),r.header.innerText=l.formatDate(new Date(a,n,1),"mmmm yyyy"),s.appendTo(e.getDates(a,n),r.datesHolder),s.appendTo([r.header,r.weekDays,r.datesHolder],r.wrapper),t.calendars.push(r),o.header.innerText=l.formatDate(new Date(a,n+1,1),"mmmm yyyy"),s.appendTo(e.getDates(a,n+1),o.datesHolder),s.appendTo([o.header,o.weekDays,o.datesHolder],o.wrapper),t.calendars.push(o),s.empty(t.wrapper),s.appendTo([i.wrapper,r.wrapper,o.wrapper],t.wrapper)},switchView:function(e){if("calendar"===e||"months"===e||"years"===e){var t=this,a=t.datepicker,n=a.calendarHolder.monthsView,r=a.calendarHolder.yearsView,d=a.calendarHolder.calendarViews.wrapper,i=t.viewMode;switch(t.viewMode=e,t.viewMode){case"calendar":var o=d.querySelector(".dudp__calendar:nth-child(2)");d.classList.add("dp__animate-out"),d.classList.remove("dp__hidden"),"calendar"!==i&&o.classList.add("dp__zooming","dp__animate-zoom"),a.calendarHolder.btnPrev.classList.remove("dp__hidden"),a.calendarHolder.btnNext.classList.remove("dp__hidden"),setTimeout(function(){d.classList.remove("dp__animate-out"),"calendar"!==i&&o.classList.remove("dp__animate-zoom")},10),n.classList.add("dp__animate-out"),r.classList.add("dp__hidden"),setTimeout(function(){"calendar"!==i&&o.classList.remove("dp__zooming"),n.classList.add("dp__hidden"),n.classList.remove("dp__animate-out")},250);break;case"months":a.calendarHolder.btnPrev.classList.add("dp__hidden"),a.calendarHolder.btnNext.classList.add("dp__hidden"),d.classList.add("dp__animate-out"),n.classList.add("dp__animate-out"),n.classList.remove("dp__hidden"),setTimeout(function(){n.classList.remove("dp__animate-out")},10),setTimeout(function(){d.classList.add("dp__hidden"),d.classList.remove("dp__animate-out")},250);break;case"years":s.empty(r),s.appendTo(t.getYears(),r);var l=r.querySelector(".dudp__year.selected");r.scrollTop=l.offsetTop-120,a.calendarHolder.btnPrev.classList.add("dp__hidden"),a.calendarHolder.btnNext.classList.add("dp__hidden"),n.classList.add("dp__animate-out"),d.classList.add("dp__animate-out"),r.classList.remove("dp__hidden"),setTimeout(function(){d.classList.add("dp__hidden"),d.classList.remove("dp__animate-out"),n.classList.add("dp__hidden"),n.classList.remove("dp__animate-out")},250)}}},move:function(e){if("next"===e||"prev"===e){var t=this;if(!t.animating){var a=t.datepicker.calendarHolder.calendarViews,n="next"===e;(n?t.viewMonth+1>11:t.viewMonth-1<0)&&(t.viewYear+=n?1:-1),t.viewMonth=n?t.viewMonth+1>11?0:t.viewMonth+1:t.viewMonth-1<0?11:t.viewMonth-1,t.animating=!0;var r="dp__animate-"+(n?"left":"right");a.wrapper.querySelectorAll(".dudp__calendar").forEach(function(e){e.classList.add(r)});var i=t.viewYear,o=n?t.viewMonth+1:t.viewMonth-1;(n?o>11:o<0)&&(o=n?0:11,i+=n?1:-1);var c=t.getDates(i,o),u={wrapper:s.createElem("div",{class:"dudp__calendar"}),header:s.createElem("div",{class:"dudp__cal-month-year"}),weekDays:s.createElem("div",{class:"dudp__weekdays"},d,!0),datesHolder:s.createElem("div",{class:"dudp__dates-holder"})};u.header.innerText=l.formatDate(new Date(i,o,1),"mmmm yyyy"),s.appendTo(c,u.datesHolder),s.appendTo([u.header,u.weekDays,u.datesHolder],u.wrapper),setTimeout(function(){s.appendTo(u.wrapper,a.wrapper,n?void 0:0),a.wrapper.querySelectorAll(".dudp__calendar").forEach(function(e){e.classList.remove(r)}),a.wrapper.removeChild(a.calendars[n?0:2].wrapper),a.calendars[n?"shift":"pop"](),a.calendars[n?"push":"unshift"](u),t.animating=!1},250)}}},resetSelection:function(){var e=this;if(e.config.range){var t=e.dateFrom?e.dateFrom:new Date;e.rangeFrom=e.dateFrom?{year:e.dateFrom.getFullYear(),month:e.dateFrom.getMonth(),date:e.dateFrom.getDate()}:null,e.rangeTo=e.dateTo?{year:e.dateTo.getFullYear(),month:e.dateTo.getMonth(),date:e.dateTo.getDate()}:null,e.viewYear=t.getFullYear(),e.viewMonth=t.getMonth()}else e.selected={year:e.date.getFullYear(),month:e.date.getMonth(),date:e.date.getDate()},e.viewYear=e.selected.year,e.viewMonth=e.selected.month;e.datepicker.calendarHolder.monthsView.querySelectorAll(".dudp__month").forEach(function(t){var a=parseInt(t.dataset.month),n=e.config.range?e.dateFrom?e.dateFrom.getMonth():null:e.selected.month;t.classList[a===n?"add":"remove"]("selected")})},setSelection:function(){var e=this,t=e.datepicker,a=e.config.range?new Date:new Date(e.selected.year,e.selected.month,e.selected.date);t.header.selectedYear.innerText=a.getFullYear(),t.header.selectedDate.innerText=l.formatDate(a,"D, mmm d")},setValue:function(e){if(void 0===e)throw new Error("Expecting a value.");var t=this,a="string"==typeof e&&""===e,n=null;if(t.config.range){var r=a?[]:e.split(t.config.rangeDelim);if(""!==e&&r.length<2)throw new Error("Invalid date range value.");var d=new Date,i=a?null:l.parseDate.call(t,r[0]).date,o=a?null:l.parseDate.call(t,r[1]).date,c=a?"":l.formatDate(i,t.config.format),u=a?"":l.formatDate(i,t.config.outFormat||t.config.format),m=a?"":l.formatDate(o,t.config.format),p=a?"":l.formatDate(o,t.config.outFormat||t.config.format),g=a?"":t.config.events&&t.config.events.onRangeFormat?t.formatRange(i,o):r[0]===r[1]?r[0]:e;t.dateFrom=i,t.dateTo=o,t.viewYear=(i||d).getFullYear(),t.viewMonth=(i||d).getMonth(),t.input.value=g,s.setAttributes(t.input,{value:g,"data-range-from":u,"data-range-to":p}),t.fromEl&&(t.fromEl.value=c,s.setAttributes(t.fromEl,{value:c,"data-value":u})),t.toEl&&(t.toEl.value=m,s.setAttributes(t.toEl,{value:m,"data-value":p})),n={_dateFrom:i,dateFrom:a?null:c,_dateTo:o,dateTo:a?null:m,value:g}}else{var f="string"==typeof e?a?new Date:l.parseDate.call(t,e,t.config.format).date:e,v=a?"":l.formatDate(f,t.config.format);t.date=f,t.viewYear=f.getFullYear(),t.viewMonth=f.getMonth(),t.input.value=v,t.input.setAttribute("value",v),n={_date:a?null:t.date,date:a?null:l.formatDate(t.date,t.config.outFormat||t.config.format)}}l.triggerChange(t.input,n),t.config.events&&t.config.events.dateChanged&&t.config.events.dateChanged.call(t,n,t)},formatDate:function(e,t){return l.formatDate(e,t)},show:function(){var e=this;setTimeout(()=>{s.setAttributes(document.body,{"datepicker-display":"on"}),e.resetSelection(),e.setSelection(),e.setupCalendar(),e.datepicker.container.classList.add("dp__open"),e.datepicker.wrapper.focus(),e.visible=!0,e.input.blur(),e.config.events&&e.config.events.shown&&e.config.events.shown.call(e,e)},0)},hide:function(){var e=this;e.datepicker.container.classList.add("dp__closing"),e.visible=!1,e.input.focus(),s.setAttributes(document.body,{"datepicker-display":null}),setTimeout(function(){e.switchView("calendar"),e.datepicker.container.classList.remove("dp__closing","dp__open"),e.config.events&&e.config.events.hidden&&e.config.events.hidden.call(e,e)},200)},destroy:function(){var e=this;e.unbindInput(),document.body.removeChild(e.datepicker.container),delete e.input._duDatepicker}},function(){var e=arguments,t=e[0],a=t instanceof NodeList||Array.isArray(t),n=t instanceof Element,r="string"==typeof t?document.querySelectorAll(t):a?t:n?[t]:document.querySelectorAll(".duDatepicker-input"),d="object"!=typeof t||a||n?e[1]&&"object"==typeof e[1]?e[1]:{}:t;Array.from(r).forEach(function(r){var i=r._duDatepicker;i||(r._duDatepicker=i=new c(r,d)),("string"==typeof t||a||n)&&e[1]&&"string"==typeof e[1]&&i[e[1]].apply(i,Array.prototype.slice.call(e).slice(2))})}}});